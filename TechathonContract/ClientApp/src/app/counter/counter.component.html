<h1>Admin</h1>

<form action="">
    <div class="row">
        <div class="col-auto">
            <label for="doc"> Select Document </label>
        </div>
        <div class="col-auto">
            <select name="document" id="doc" [(ngModel)]="selected_template">
                <option *ngFor="let template of templateList" value="{{ template.TemplateId }}"> {{ template.TemplateName }} </option>
            </select>
        </div>
    </div>

    <div class="row">
        <div class="col-auto">
            <label for="user"> Select User </label>
        </div>
        <div class="col-auto">
            <select name="user" id="user"  [(ngModel)]="selected_user">
                <option *ngFor="let user of userList" value="{{ user.UserId }}"> {{ user.UserName }} </option>
            </select>
        </div>
    </div>
    <div class="row">
        <div class="col-auto">
            <label for="access"> Select Access Level </label></div>
        <div class="col-auto">
            <div class="row">
                <div class="col-auto">
                    <input type="radio" id="read" name="access" value="read" [(ngModel)]="access">
                    <label for="read"> Read </label>
                </div>
                <div class="col-auto">
                    <input type="radio" id="write" name="access" value="write"  [(ngModel)]="access">
                    <label for="write"> Read & Write</label>
                </div>
                <div class="col-auto">
                    <input type="radio" id="revoke" name="access" value="revoke"  [(ngModel)]="access">
                    <label for="revoke"> Revoke </label>
                </div>
            </div>
        </div>
    </div>

    <button class="btn btn-primary" [disabled]="disabled" (click)="updateControl()">Update</button>
</form>


<table id="users" class="table table-bordered my-1">
    <tr class="thead-light">
      <th>Template Name</th>
      <th>User name</th>
      <th>Write Access</th>
    </tr>
  
    <tr *ngFor = "let row of user_matrix">
      <td>
        {{row.TemplateName}}
      </td>
      <td>
        {{row.UserName}}
      </td>
      <td>
        {{row.isWrite}}
      </td>
    </tr>
  
  </table>




<h1>Make Admin</h1>

<form action="">
    <div class="row">
        <div class="col-auto">
            <label for="user"> Select User To Make Admin </label>
        </div>
        <div class="col-auto">
            <select name="user" id="user"  [(ngModel)]="selected_user_admin">
                <option *ngFor="let user of userList" value="{{ user.UserId }}"> {{ user.UserName }} </option>
            </select>
        </div>
    </div>
    <button class="btn btn-primary" [disabled]="disabled" (click)="makeAdmin()">Make Admin</button>
</form>
<p>{{admin_message}}</p>
<button class="btn btn-primary" [disabled]="disabled" (click)="makeAdmin(1)" *ngIf="admin_message!=''"> Do u wnt to remove him as admin?</button>

